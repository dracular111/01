getgenv().Config = {
    ["Account Main"] = {"XxBlastF0xxX91"},
    ["Pet"] = {"Lobster Thermidor"},
    ["UUID"] = "Dracula111",
    ["Url"] = "http://103.249.200.78:3000"
}
repeat wait() until game:IsLoaded()
repeat wait() until game.Players.LocalPlayer.Character
repeat
    wait()
    game:GetService("VirtualUser"):CaptureController()
    game:GetService("VirtualUser"):Button1Down(Vector2.new(0, 0))
until game.Players.LocalPlayer:GetAttribute("DataFullyLoaded") and game.Players.LocalPlayer:GetAttribute("Finished_Loading")

game.ReplicatedStorage.GameEvents.GiftPet.OnClientEvent:Connect(function(p_u_6)
    if table.find(getgenv().Config["Account Main"], game.Players.LocalPlayer.Name) then
        game.ReplicatedStorage.GameEvents.AcceptPetGift:FireServer(true, p_u_6)
    end
end)

spawn(function()
    while wait() do
        local v_u_1 = game:GetService("ReplicatedStorage")
        local v_u_3 = require(v_u_1.Modules.DataService)
        local v33 = v_u_3:GetData()
        local playerdata = v_u_3:GetData()
        local inventoryData = playerdata.PetsData.PetInventory.Data or {}
        local cnt = 0
        for _, _ in inventoryData do
            cnt = cnt + 1
        end
        if cnt >= 60 + v33.PetsData.PurchasedPetInventorySlots * 5 then
            writefile(game.Players.LocalPlayer.Name .. ".txt", "Completed-Done")
        end
    end
end)

function havepet()
    for _, v in game:GetService("Players").LocalPlayer.Backpack:GetChildren() do
        if v:IsA("Tool") and v:GetAttribute("ItemType") == "Pet" then
            for _, v1 in getgenv().Config["Pet"] do
                if string.find(v.Name, v1) then
                    return v
                end
            end
        end
    end
    for _, v in game:GetService("Players").LocalPlayer.Character:GetChildren() do
        if v:IsA("Tool") and v:GetAttribute("ItemType") == "Pet" then
            for _, v1 in getgenv().Config["Pet"] do
                if string.find(v.Name, v1) then
                    return v
                end
            end
        end
    end
end

function postmain()
    local payload = {
        ["key"] = getgenv().Config["UUID"],
        ["accounts"] = {
            [game.Players.LocalPlayer.Name] = {
                ["JobId"] = game.JobId,
                ["PlaceId"] = game.PlaceId
            }
        }
    }
    request({
        Url = getgenv().Config["Url"] .. "/postservermain",
        Method = 'POST',
        Headers = {["Content-Type"] = "application/json"},
        Body = game:GetService("HttpService"):JSONEncode(payload)
    })
end

if table.find(getgenv().Config["Account Main"], game.Players.LocalPlayer.Name) then
    print("Yes")
    postmain()
end

function GetDataMain(uid)
    local res = request({
        Url = getgenv().Config["Url"] .. "/getdatamain?key=" .. uid,
        Method = "GET"
    })
    local data = game:GetService("HttpService"):JSONDecode(res.Body)
    if not data or next(data) == nil then
        return {}
    end
    return data.data
end

spawn(function()
    while wait(30) do
        pcall(function()
            if table.find(getgenv().Config["Account Main"], game.Players.LocalPlayer.Name) then
                postmain()
            end
        end)
    end
end)

function havemaininserver()
    for _, v1 in getgenv().Config["Account Main"] do
        if game:GetService("Players"):FindFirstChild(v1) then
            return true
        end
    end
end

spawn(function()
    while wait() do 
        pcall(function()
            if havepet() then 
                repeat wait() until not havepet()
                game.Players.LocalPlayer:Kick("Done")
            end
        end)
    end
end)

spawn(function()
    while wait() do
        pcall(function()
            if not table.find(getgenv().Config["Account Main"], game.Players.LocalPlayer.Name) then
                if havepet() then
                    if not havemaininserver() then
                        for _, _ in getgenv().Config["Account Main"] do
                            for _, v1 in GetDataMain(getgenv().Config["UUID"]) do
                                if v1["JobId"] ~= tostring(game.JobId) then
                                    game:GetService("TeleportService"):TeleportToPlaceInstance(
                                        v1["PlaceId"], v1["JobId"], game.Players.LocalPlayer
                                    )
                                end
                            end
                        end
                    else
                        for _, v in getgenv().Config["Account Main"] do
                            if game.Players:FindFirstChild(v) then
                                if havepet():GetAttribute("d") then
                                    game:GetService("ReplicatedStorage").GameEvents.Favorite_Item:FireServer(havepet())
                                    task.wait(1)
                                end
                                havepet().Parent = game.Players.LocalPlayer.Character
                                game:GetService("ReplicatedStorage").GameEvents.PetGiftingService:FireServer("GivePet", game.Players[v])
                                task.wait(3)
                            end
                        end
                    end
                else
                    loadstring(game:HttpGet("https://raw.githubusercontent.com/dracular111/01/main/H"))()
                    License = "peKnsowxvI0631sS2VcoC1WDJrfPzGa7"
                    loadstring(game:HttpGet('https://raw.githubusercontent.com/Real-Aya/Loader/main/Init.lua'))()
                end
            end
        end)
    end
end)
